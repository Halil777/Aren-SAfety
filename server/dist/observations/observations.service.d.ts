import { Repository } from 'typeorm';
import { Observation } from './observation.entity';
import { ObservationMedia } from './observationMedia.entity';
import { ObservationStatus } from './observation-status';
import { CreateObservationDto } from './dto/create-observation.dto';
import { UpdateObservationDto } from './dto/update-observation.dto';
import { CreateObservationMediaDto } from './dto/create-observation-media.dto';
import { MobileAccount } from '../mobile-accounts/mobile-account.entity';
import { Project } from '../projects/project.entity';
import { Department } from '../departments/department.entity';
import { Category } from '../categories/category.entity';
import { Subcategory } from '../subcategories/subcategory.entity';
import { MobileRole } from '../mobile-accounts/mobile-role';
import { Company } from '../companies/company.entity';
import { AnswerObservationDto } from './dto/answer-observation.dto';
export declare class ObservationsService {
    private readonly observationsRepository;
    private readonly mediaRepository;
    private readonly accountsRepository;
    private readonly projectsRepository;
    private readonly departmentsRepository;
    private readonly categoriesRepository;
    private readonly subcategoriesRepository;
    private readonly companiesRepository;
    constructor(observationsRepository: Repository<Observation>, mediaRepository: Repository<ObservationMedia>, accountsRepository: Repository<MobileAccount>, projectsRepository: Repository<Project>, departmentsRepository: Repository<Department>, categoriesRepository: Repository<Category>, subcategoriesRepository: Repository<Subcategory>, companiesRepository: Repository<Company>);
    create(tenantId: string, creatorId: string, dto: CreateObservationDto): Promise<Observation>;
    findAllForTenant(tenantId: string): Promise<Observation[]>;
    findForMobile(accountId: string, role: MobileRole): Promise<{
        id: string;
        workerFullName: string;
        workerProfession: string;
        riskLevel: number;
        description: string;
        deadline: Date;
        createdAt: Date;
        status: ObservationStatus;
        projectId: string;
        departmentId: string;
        categoryId: string;
        subcategoryId: string;
        supervisorId: string;
        createdByUserId: string;
        companyId: string;
        projectName: string;
        departmentName: string;
        categoryName: any;
        subcategoryName: any;
        companyName: any;
        supervisorName: string;
        createdByName: string;
        supervisorAnswer: string;
        answeredAt: Date;
        media: {
            id: string;
            type: import("./observationMedia.entity").ObservationMediaType;
            url: string;
            isCorrective: boolean;
            uploadedByUserId: string;
        }[];
    }[]>;
    findOneForMobile(accountId: string, role: MobileRole, id: string): Promise<{
        id: string;
        workerFullName: string;
        workerProfession: string;
        riskLevel: number;
        description: string;
        deadline: Date;
        createdAt: Date;
        status: ObservationStatus;
        projectId: string;
        departmentId: string;
        categoryId: string;
        subcategoryId: string;
        supervisorId: string;
        createdByUserId: string;
        companyId: string;
        projectName: string;
        departmentName: string;
        categoryName: any;
        subcategoryName: any;
        companyName: any;
        supervisorName: string;
        createdByName: string;
        supervisorAnswer: string;
        answeredAt: Date;
        media: {
            id: string;
            type: import("./observationMedia.entity").ObservationMediaType;
            url: string;
            isCorrective: boolean;
            uploadedByUserId: string;
        }[];
    }>;
    updateStatus(tenantId: string, accountId: string | null, role: MobileRole | null, id: string, dto: UpdateObservationDto): Promise<Observation>;
    addMedia(tenantId: string, observationId: string, dto: CreateObservationMediaDto): Promise<ObservationMedia>;
    answerObservation(tenantId: string, accountId: string, role: MobileRole, id: string, dto: AnswerObservationDto): Promise<{
        id: string;
        workerFullName: string;
        workerProfession: string;
        riskLevel: number;
        description: string;
        deadline: Date;
        createdAt: Date;
        status: ObservationStatus;
        projectId: string;
        departmentId: string;
        categoryId: string;
        subcategoryId: string;
        supervisorId: string;
        createdByUserId: string;
        companyId: string;
        projectName: string;
        departmentName: string;
        categoryName: any;
        subcategoryName: any;
        companyName: any;
        supervisorName: string;
        createdByName: string;
        supervisorAnswer: string;
        answeredAt: Date;
        media: {
            id: string;
            type: import("./observationMedia.entity").ObservationMediaType;
            url: string;
            isCorrective: boolean;
            uploadedByUserId: string;
        }[];
    }>;
    private ensureAccount;
    private findProject;
    private findDepartment;
    private findCategory;
    private findSubcategory;
    private parseDate;
    private findCompany;
    private mapForMobile;
}
